#############################################
Initiated patchr.sh
2025-07-18_13-50

See logs/patchr/patchr.2025-07-18_13-50.log for warnings, errors, and other important information.
Input data dir: /Users/tpd0001/Library/CloudStorage/GoogleDrive-wvuvectors@gmail.com/My Drive/DRISCOLL_LAB/2 PROJECTS/WaTCH/TESTING_LAB/DATA_NoV
Output data dir: /Users/tpd0001/github/watch-wv/patchr/data_nov

Searching for unprocessed batch files.
******
Running 1_queryBatches.pl -i /Users/tpd0001/Library/CloudStorage/GoogleDrive-wvuvectors@gmail.com/My Drive/DRISCOLL_LAB/2 PROJECTS/WaTCH/TESTING_LAB/DATA_NoV -o /Users/tpd0001/github/watch-wv/patchr/data_nov.
******

1_queryBatches.pl identified unprocessed batch files, so an update will be prepared.
Preparing an update to WaTCH now.
Creating update folder /Users/tpd0001/github/watch-wv/patchr/data_nov/updates/2025-07-18_13-50/ to hold the results.
Recording batch files to process in /Users/tpd0001/github/watch-wv/patchr/data_nov/updates/2025-07-18_13-50//update.batch_files.txt.
******
Running prepUpdate.sh.
******
Switching to update directory /Users/tpd0001/github/watch-wv/patchr/data_nov/updates/2025-07-18_13-50/.
Creating directory batches/ to hold the validated batch files.
Preparing unprocessed batch files listed in update.batch_files.txt.
Validated batch files will be stored in batches/ and update.batch_files.txt will be revised.
Further steps in patchr will use the files in batches/.
Copying file EB29.xlsx to batches/EB29.xlsx.
Repairing known issues in EB29.xlsx.
Copying file EB87.xlsx to batches/EB87.xlsx.
Repairing known issues in EB87.xlsx.
Copying file EB44.xlsx to batches/EB44.xlsx.
Repairing known issues in EB44.xlsx.
Copying file EB13.xlsx to batches/EB13.xlsx.
Repairing known issues in EB13.xlsx.
Copying file EB25.xlsx to batches/EB25.xlsx.
Repairing known issues in EB25.xlsx.
Copying file EB72.xlsx to batches/EB72.xlsx.
Repairing known issues in EB72.xlsx.
Copying file EB103.xlsx to batches/EB103.xlsx.
Repairing known issues in EB103.xlsx.
Copying file EB2.xlsx to batches/EB2.xlsx.
Repairing known issues in EB2.xlsx.
Copying file EB49.xlsx to batches/EB49.xlsx.
Repairing known issues in EB49.xlsx.
Copying file EB32.xlsx to batches/EB32.xlsx.
Repairing known issues in EB32.xlsx.
Copying file EB65.xlsx to batches/EB65.xlsx.
Repairing known issues in EB65.xlsx.
Copying file EB24.xlsx to batches/EB24.xlsx.
Repairing known issues in EB24.xlsx.
Copying file EB53.xlsx to batches/EB53.xlsx.
Repairing known issues in EB53.xlsx.
Copying file EB12.xlsx to batches/EB12.xlsx.
Repairing known issues in EB12.xlsx.
Copying file EB69.xlsx to batches/EB69.xlsx.
Repairing known issues in EB69.xlsx.
Copying file EB90.xlsx to batches/EB90.xlsx.
Repairing known issues in EB90.xlsx.
Copying file EB28.xlsx to batches/EB28.xlsx.
Repairing known issues in EB28.xlsx.
Copying file EB23.xlsx to batches/EB23.xlsx.
Repairing known issues in EB23.xlsx.
Copying file EB74.xlsx to batches/EB74.xlsx.
Repairing known issues in EB74.xlsx.
Copying file EB105.xlsx to batches/EB105.xlsx.
Repairing known issues in EB105.xlsx.
Copying file EB58.xlsx to batches/EB58.xlsx.
Repairing known issues in EB58.xlsx.
Copying file EB78.xlsx to batches/EB78.xlsx.
Repairing known issues in EB78.xlsx.
Copying file EB97.xlsx to batches/EB97.xlsx.
Repairing known issues in EB97.xlsx.
Copying file EB39.xlsx to batches/EB39.xlsx.
Repairing known issues in EB39.xlsx.
Copying file EB42.xlsx to batches/EB42.xlsx.
Repairing known issues in EB42.xlsx.
Copying file EB15.xlsx to batches/EB15.xlsx.
Repairing known issues in EB15.xlsx.
Copying file EB8.xlsx to batches/EB8.xlsx.
Repairing known issues in EB8.xlsx.
Copying file EB55.xlsx to batches/EB55.xlsx.
Repairing known issues in EB55.xlsx.
Copying file EB14.xlsx to batches/EB14.xlsx.
Repairing known issues in EB14.xlsx.
Copying file EB108.xlsx to batches/EB108.xlsx.
Repairing known issues in EB108.xlsx.
Copying file EB43.xlsx to batches/EB43.xlsx.
Repairing known issues in EB43.xlsx.
Copying file EB38.xlsx to batches/EB38.xlsx.
Repairing known issues in EB38.xlsx.
Copying file EB80.xlsx to batches/EB80.xlsx.
Repairing known issues in EB80.xlsx.
Copying file EB4.xlsx to batches/EB4.xlsx.
Repairing known issues in EB4.xlsx.
Copying file EB18.xlsx to batches/EB18.xlsx.
Repairing known issues in EB18.xlsx.
Copying file EB34.xlsx to batches/EB34.xlsx.
Repairing known issues in EB34.xlsx.
Copying file EB63.xlsx to batches/EB63.xlsx.
Repairing known issues in EB63.xlsx.
Copying file EB75.xlsx to batches/EB75.xlsx.
Repairing known issues in EB75.xlsx.
Copying file EB22.xlsx to batches/EB22.xlsx.
Repairing known issues in EB22.xlsx.
Copying file EB107.xlsx to batches/EB107.xlsx.
Repairing known issues in EB107.xlsx.
Copying file EB60.xlsx to batches/EB60.xlsx.
Repairing known issues in EB60.xlsx.
Copying file EB99.xlsx to batches/EB99.xlsx.
Repairing known issues in EB99.xlsx.
Copying file EB40.xlsx to batches/EB40.xlsx.
Repairing known issues in EB40.xlsx.
Copying file EB94.xlsx to batches/EB94.xlsx.
Repairing known issues in EB94.xlsx.
Copying file EB82.xlsx to batches/EB82.xlsx.
Repairing known issues in EB82.xlsx.
Copying file EB41.xlsx to batches/EB41.xlsx.
Repairing known issues in EB41.xlsx.
Copying file EB16.xlsx to batches/EB16.xlsx.
Repairing known issues in EB16.xlsx.
Copying file EP509.xlsx to batches/EP509.xlsx.
Repairing known issues in EP509.xlsx.
Copying file EB57.xlsx to batches/EB57.xlsx.
Repairing known issues in EB57.xlsx.
Copying file EB20.xlsx to batches/EB20.xlsx.
Repairing known issues in EB20.xlsx.
Copying file EB77.xlsx to batches/EB77.xlsx.
Repairing known issues in EB77.xlsx.
Copying file EB61.xlsx to batches/EB61.xlsx.
Repairing known issues in EB61.xlsx.
Copying file EB36.xlsx to batches/EB36.xlsx.
Repairing known issues in EB36.xlsx.
Copying file EB110.xlsx to batches/EB110.xlsx.
Repairing known issues in EB110.xlsx.
Copying file EB6.xlsx to batches/EB6.xlsx.
Repairing known issues in EB6.xlsx.
Copying file EB50.xlsx to batches/EB50.xlsx.
Repairing known issues in EB50.xlsx.
Copying file EB11.xlsx to batches/EB11.xlsx.
Repairing known issues in EB11.xlsx.
Copying file EB46.xlsx to batches/EB46.xlsx.
Repairing known issues in EB46.xlsx.
Copying file EB101.xlsx to batches/EB101.xlsx.
Repairing known issues in EB101.xlsx.
Copying file EB31.xlsx to batches/EB31.xlsx.
Repairing known issues in EB31.xlsx.
Copying file EB70.xlsx to batches/EB70.xlsx.
Repairing known issues in EB70.xlsx.
Copying file EB27.xlsx to batches/EB27.xlsx.
Repairing known issues in EB27.xlsx.
Copying file EB26.xlsx to batches/EB26.xlsx.
Repairing known issues in EB26.xlsx.
Copying file EB88.xlsx to batches/EB88.xlsx.
Repairing known issues in EB88.xlsx.
Copying file EB67.xlsx to batches/EB67.xlsx.
Repairing known issues in EB67.xlsx.
Copying file EB30.xlsx to batches/EB30.xlsx.
Repairing known issues in EB30.xlsx.
Copying file EB92.xlsx to batches/EB92.xlsx.
Repairing known issues in EB92.xlsx.
Copying file EB84.xlsx to batches/EB84.xlsx.
Repairing known issues in EB84.xlsx.
Copying file EB47.xlsx to batches/EB47.xlsx.
Repairing known issues in EB47.xlsx.
Copying file EB51.xlsx to batches/EB51.xlsx.
Repairing known issues in EB51.xlsx.
Copying file AssetTagReport.csv to batches/AssetTagReport.csv.
Repairing known issues in AssetTagReport.csv.
Done.
File AssetTagReport.csv appears to be an asset file.
It has been copied to batches/.

******
Running 2_compileUpdate.pl.
******


******
Running 3_validateUpdate.pl.
******
Validating ids from existing WaTCH database tables...
Retrieving ids from WaTCH table archive
Retrieving ids from WaTCH table concentration
Retrieving ids from WaTCH table assay
Retrieving ids from WaTCH table sample
Retrieving ids from WaTCH table cbatch
Retrieving ids from WaTCH table ebatch
Retrieving ids from WaTCH table extraction
Retrieving ids from WaTCH table abatch
Retrieving ids from WaTCH table rbatch
Done.

-------------------------------
WaTCH internal validation results (data/latest):
TABLE        	WaTCH IDS    	DUPLICATES   
archive      	0            	0            
concentration	12804        	0            
assay        	43762        	0            
sample       	12940        	0            
cbatch       	804          	0            
ebatch       	542          	0            
extraction   	12997        	0            
abatch       	322          	0            
rbatch       	0            	0            
-------------------------------

Validating ids from the update tables...
Done.

-------------------------------
Update validation results (/Users/tpd0001/github/watch-wv/patchr/data_nov/updates/2025-07-18_13-50/):
TABLE        	UPDATE IDS   	DUPLICATES   	COLLISIONS   
sample       	569          	0            	0            
cbatch       	0            	0            	0            
archive      	0            	0            	0            
assay        	0            	0            	0            
concentration	0            	0            	0            
rbatch       	0            	0            	0            
abatch       	0            	0            	0            
extraction   	1615         	0            	1615         
ebatch       	70           	0            	70           
-------------------------------

Resolving 1685 collisons between update and watchdb...


Ok, I'm about to start modifying the watchdb files in /Users/tpd0001/github/watch-wv/patchr/data_nov/latest/.
First, let's back up /Users/tpd0001/github/watch-wv/patchr/data_nov/latest/ to /Users/tpd0001/github/watch-wv/patchr/data_nov/latest_bk/.

Now I'll create a new watchdb folder in /Users/tpd0001/github/watch-wv/patchr/data_nov/incremental/2025-07-18_13-50/.
It will hold the latest watchdb after update with data from /Users/tpd0001/github/watch-wv/patchr/data_nov/updates/2025-07-18_13-50/.


Now I'm merging the watchdb tables from /Users/tpd0001/github/watch-wv/patchr/data_nov/latest/ with the update tables in /Users/tpd0001/github/watch-wv/patchr/data_nov/updates/2025-07-18_13-50/.
These merged tables will be put in the folder that I just created, /Users/tpd0001/github/watch-wv/patchr/data_nov/incremental/2025-07-18_13-50/.

******
Running 4_appendUpdate.pl /Users/tpd0001/github/watch-wv/patchr/data_nov/incremental/2025-07-18_13-50 /Users/tpd0001/github/watch-wv/patchr/data_nov/updates/2025-07-18_13-50/.
******

4_appendUpdate.pl exited with error code 2 and caused patchr to abort.
!!!!!!!!
patchr aborted during phase 4 (appending update).
I STRONGLY recommend deleting /Users/tpd0001/github/watch-wv/patchr/data_nov/incremental/2025-07-18_13-50/ after exploring this error.
Then delete the folder /Users/tpd0001/github/watch-wv/patchr/data_nov/updates/2025-07-18_13-50/, fix the error(s), and run patchr again. 
!!!!!!!!
