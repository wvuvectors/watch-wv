#############################################
Initiated patchr.sh
2025-10-29_16-24

See logs/patchr/patchr.2025-10-29_16-24.log for warnings, errors, and other important information.
Input data dir: /Users/tpd0001/Library/CloudStorage/GoogleDrive-wvuvectors@gmail.com/My Drive/DRISCOLL_LAB/2 PROJECTS/WaTCH/TESTING_LAB/DATA_PCR
Output data dir: /Users/tpd0001/github/watch-wv/patchr/data

Searching for unprocessed batch files.
******
Running 1_queryBatches.pl -i /Users/tpd0001/Library/CloudStorage/GoogleDrive-wvuvectors@gmail.com/My Drive/DRISCOLL_LAB/2 PROJECTS/WaTCH/TESTING_LAB/DATA_PCR -o /Users/tpd0001/github/watch-wv/patchr/data.
******

1_queryBatches.pl identified unprocessed batch files, so an update will be prepared.
Preparing an update to WaTCH now.
Creating update folder /Users/tpd0001/github/watch-wv/patchr/data/updates/2025-10-29_16-24/ to hold the results.
Recording batch files to process in /Users/tpd0001/github/watch-wv/patchr/data/updates/2025-10-29_16-24//update.batch_files.txt.
******
Running prepUpdate.sh.
******
Switching to update directory /Users/tpd0001/github/watch-wv/patchr/data/updates/2025-10-29_16-24/.
Creating directory batches/ to hold the validated batch files.
Preparing unprocessed batch files listed in update.batch_files.txt.
Validated batch files will be stored in batches/ and update.batch_files.txt will be revised.
Further steps in patchr will use the files in batches/.
Copying file CB190.xlsx to batches/CB190.xlsx.
Repairing known issues in CB190.xlsx.
Copying file EB190.xlsx to batches/EB190.xlsx.
Repairing known issues in EB190.xlsx.
Copying file AB119.xlsx to batches/AB119.xlsx.
Repairing known issues in AB119.xlsx.
Copying file AB119_20251029_112012_913.ANALYZED.csv to batches/AB119_20251029_112012_913.ANALYZED.csv.
Repairing known issues in AB119_20251029_112012_913.ANALYZED.csv.
Done.
File AB119_20251029_112012_913.ANALYZED.csv appears to be a ddPCR results file.
  Fixing known incompatibilities in AB119_20251029_112012_913.ANALYZED.csv.
Done.
Copying file AssetTagReport.csv to batches/AssetTagReport.csv.
Repairing known issues in AssetTagReport.csv.
Done.
File AssetTagReport.csv appears to be an asset file.
It has been copied to batches/.

******
Running 2_compileUpdate.pl.
******


Ok, I'm about to start modifying the watchdb files in /Users/tpd0001/github/watch-wv/patchr/data/latest/.
First, let's back up /Users/tpd0001/github/watch-wv/patchr/data/latest/ to /Users/tpd0001/github/watch-wv/patchr/data/latest_bk/.

Now I'll create a new watchdb folder in /Users/tpd0001/github/watch-wv/patchr/data/incremental/2025-10-29_16-24/.
It will hold the latest watchdb after update with data from /Users/tpd0001/github/watch-wv/patchr/data/updates/2025-10-29_16-24/.


Now I'm merging the watchdb tables from /Users/tpd0001/github/watch-wv/patchr/data/latest/ with the update tables in /Users/tpd0001/github/watch-wv/patchr/data/updates/2025-10-29_16-24/.
These merged tables will be put in the folder that I just created, /Users/tpd0001/github/watch-wv/patchr/data/incremental/2025-10-29_16-24/.

******
Running 4_appendUpdate.pl /Users/tpd0001/github/watch-wv/patchr/data/incremental/2025-10-29_16-24 /Users/tpd0001/github/watch-wv/patchr/data/updates/2025-10-29_16-24/.
******
INFO : assay id F01-0147.a1 already exists in either the update or the main watchdb (before update).
INFO : F01-0147.a1 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id F01-0147.a2 already exists in either the update or the main watchdb (before update).
INFO : F01-0147.a2 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id F01-0147.a3 already exists in either the update or the main watchdb (before update).
INFO : F01-0147.a3 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id F01-0147.a4 already exists in either the update or the main watchdb (before update).
INFO : F01-0147.a4 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id F01-0147.a5 already exists in either the update or the main watchdb (before update).
INFO : F01-0147.a5 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1010.a1 already exists in either the update or the main watchdb (before update).
INFO : C01-1010.a1 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1010.a2 already exists in either the update or the main watchdb (before update).
INFO : C01-1010.a2 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1010.a3 already exists in either the update or the main watchdb (before update).
INFO : C01-1010.a3 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1010.a4 already exists in either the update or the main watchdb (before update).
INFO : C01-1010.a4 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1010.a5 already exists in either the update or the main watchdb (before update).
INFO : C01-1010.a5 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1007.a1 already exists in either the update or the main watchdb (before update).
INFO : C01-1007.a1 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1007.a2 already exists in either the update or the main watchdb (before update).
INFO : C01-1007.a2 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1007.a3 already exists in either the update or the main watchdb (before update).
INFO : C01-1007.a3 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1007.a4 already exists in either the update or the main watchdb (before update).
INFO : C01-1007.a4 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1007.a5 already exists in either the update or the main watchdb (before update).
INFO : C01-1007.a5 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1008.a1 already exists in either the update or the main watchdb (before update).
INFO : C01-1008.a1 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1008.a2 already exists in either the update or the main watchdb (before update).
INFO : C01-1008.a2 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1008.a3 already exists in either the update or the main watchdb (before update).
INFO : C01-1008.a3 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1008.a4 already exists in either the update or the main watchdb (before update).
INFO : C01-1008.a4 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1008.a5 already exists in either the update or the main watchdb (before update).
INFO : C01-1008.a5 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id Q01-0635.a1 already exists in either the update or the main watchdb (before update).
INFO : Q01-0635.a1 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id Q01-0635.a2 already exists in either the update or the main watchdb (before update).
INFO : Q01-0635.a2 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id Q01-0635.a3 already exists in either the update or the main watchdb (before update).
INFO : Q01-0635.a3 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id Q01-0635.a4 already exists in either the update or the main watchdb (before update).
INFO : Q01-0635.a4 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id Q01-0635.a5 already exists in either the update or the main watchdb (before update).
INFO : Q01-0635.a5 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1009.a1 already exists in either the update or the main watchdb (before update).
INFO : C01-1009.a1 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1009.a2 already exists in either the update or the main watchdb (before update).
INFO : C01-1009.a2 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1009.a3 already exists in either the update or the main watchdb (before update).
INFO : C01-1009.a3 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1009.a4 already exists in either the update or the main watchdb (before update).
INFO : C01-1009.a4 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1009.a5 already exists in either the update or the main watchdb (before update).
INFO : C01-1009.a5 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1006.a1 already exists in either the update or the main watchdb (before update).
INFO : C01-1006.a1 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1006.a2 already exists in either the update or the main watchdb (before update).
INFO : C01-1006.a2 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1006.a3 already exists in either the update or the main watchdb (before update).
INFO : C01-1006.a3 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1006.a4 already exists in either the update or the main watchdb (before update).
INFO : C01-1006.a4 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id C01-1006.a5 already exists in either the update or the main watchdb (before update).
INFO : C01-1006.a5 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id H01-1003.a1 already exists in either the update or the main watchdb (before update).
INFO : H01-1003.a1 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id H01-1003.a2 already exists in either the update or the main watchdb (before update).
INFO : H01-1003.a2 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id H01-1003.a3 already exists in either the update or the main watchdb (before update).
INFO : H01-1003.a3 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id H01-1003.a4 already exists in either the update or the main watchdb (before update).
INFO : H01-1003.a4 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.
INFO : assay id H01-1003.a5 already exists in either the update or the main watchdb (before update).
INFO : H01-1003.a5 will not be added again!
INFO : It is unclear how this passed the validation stage, so you may want to look into it.



Now I will generate the RESULT table using the updated watchdb tables in /Users/tpd0001/github/watch-wv/patchr/data/incremental/2025-10-29_16-24.

******
Running 5_calculateResults.pl /Users/tpd0001/github/watch-wv/patchr/data/incremental/2025-10-29_16-24.
******


******
Running 6_generateBatchList.pl /Users/tpd0001/github/watch-wv/patchr/data/incremental/2025-10-29_16-24 > /Users/tpd0001/github/watch-wv/patchr/data/incremental/2025-10-29_16-24/watchdb.completed_batches.txt.
******



******
Everything appears to be ok, so on to the final step.
I am now copying the watchdb tables from /Users/tpd0001/github/watch-wv/patchr/data/incremental/2025-10-29_16-24/ to /Users/tpd0001/github/watch-wv/patchr/data/latest/, overwriting the old set.
Never fear! The previous version is still readily available in /Users/tpd0001/github/watch-wv/patchr/data/latest_bk/, and older sets in the /Users/tpd0001/github/watch-wv/patchr/data/incremental/ folder.
******

Updating the README file.

File copy finished.
The most recent version of the watchdb can be found in two places:
    /Users/tpd0001/github/watch-wv/patchr/data/incremental/2025-10-29_16-24/
    and
    /Users/tpd0001/github/watch-wv/patchr/data/latest/
/Users/tpd0001/github/watch-wv/patchr/data/latest_bk/ contains the data from immediately before this update was applied.

All done! patchr run of 2025-10-29_16-24 will now exit.

